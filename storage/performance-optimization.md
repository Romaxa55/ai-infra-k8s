# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ AI –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞:**
- RAM: 254GB
- CPU: 70 cores  
- GPU: NVIDIA RTX 3050 (6GB VRAM)
- Storage: 1TB NVMe

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. Ollama –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–æ—â–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞

```yaml
# charts/ollama-values.yaml - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
resources:
  requests:
    memory: "8Gi"
    cpu: "2000m"
    nvidia.com/gpu: 1
  limits:
    memory: "200Gi"  # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π
    cpu: "50000m"    # 50 cores –∏–∑ 70 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
    nvidia.com/gpu: 1

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
env:
  OLLAMA_NUM_PARALLEL: "8"        # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  OLLAMA_MAX_LOADED_MODELS: "5"   # –î–µ—Ä–∂–∏–º 5 –º–æ–¥–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏
  OLLAMA_GPU_OVERHEAD: "1Gi"      # GPU overhead
  OLLAMA_MAX_QUEUE: "512"         # –ë–æ–ª—å—à–∞—è –æ—á–µ—Ä–µ–¥—å
```

### 2. Open WebUI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```yaml
# charts/open-webui-values.yaml - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  
resources:
  requests:
    memory: "1Gi"
    cpu: "500m"
  limits:
    memory: "8Gi"     # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    cpu: "4000m"      # 4 cores

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
env:
  WEBUI_AUTH: "false"
  OLLAMA_BASE_URL: "http://ollama.ai-infra.svc.cluster.local:11434"
  # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
  ENABLE_RESPONSE_CACHE: "true"
  RESPONSE_CACHE_SIZE: "1000"
  # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  WEBUI_MAX_FILE_SIZE: "100MB"
```

### 3. Kubernetes —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è AI –Ω–∞–≥—Ä—É–∑–æ–∫

```yaml
# –õ–∏–º–∏—Ç—ã namespace –¥–ª—è AI –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
apiVersion: v1
kind: ResourceQuota
metadata:
  name: ai-infra-quota
  namespace: ai-infra
spec:
  hard:
    requests.cpu: "60"      # 60 –∏–∑ 70 cores
    requests.memory: "240Gi" # 240 –∏–∑ 254GB RAM
    limits.cpu: "70"        # –í—Å–µ cores
    limits.memory: "254Gi"  # –í—Å—è RAM
    nvidia.com/gpu: "1"     # GPU
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –ø–æ –∑–∞–¥–∞—á–∞–º

### –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã (GPU –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
```bash
# –ú–æ–¥–µ–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ VRAM - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
llama3.1:8b      # 5GB  - –æ–±—â–∏–µ –∑–∞–¥–∞—á–∏
mistral:7b       # 4GB  - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã  
qwen2.5-coder:14b # 8GB  - –∫–æ–¥–∏–Ω–≥ –Ω–∞ GPU
```

### –°—Ä–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏ (GPU + RAM)
```bash
# –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
devstral:24b         # 14GB - –∞–≥–µ–Ω—Ç—ã –∏ –ø–∞–π–ø–ª–∞–π–Ω—ã
qwen2.5-coder:32b    # 19GB - —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥–∏–Ω–≥
deepseek-r1:32b      # 19GB - reasoning –∑–∞–¥–∞—á–∏
```

### –°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
```bash
# –ò—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å—é –º–æ—â—å —Å–µ—Ä–≤–µ—Ä–∞
llama3.3:70b         # 40GB - —Ç–æ–ø –∫–∞—á–µ—Å—Ç–≤–æ
deepseek-r1:70b      # 40GB - —Ç–æ–ø reasoning  
deepseek-v3:671b     # 400GB - –º–∞–∫—Å–∏–º—É–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
```

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```bash
# Ollama –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
# –° 70 cores –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞—Ç—å:
# - 2-3 –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–∏ (70B) –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
# - 5-8 —Å—Ä–µ–¥–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π (32B) –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ  
# - 10+ –º–∞–ª–µ–Ω—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π (8B) –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
```

### –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
```
GPU (6GB VRAM):
‚îú‚îÄ‚îÄ qwen2.5-coder:14b (–¥–ª—è –∫–æ–¥–∏–Ω–≥–∞)
‚îî‚îÄ‚îÄ –†–µ–∑–µ—Ä–≤ –¥–ª—è inference

RAM (254GB):
‚îú‚îÄ‚îÄ deepseek-v3:671b (400GB —Å swap)
‚îú‚îÄ‚îÄ llama3.3:70b (40GB)
‚îú‚îÄ‚îÄ deepseek-r1:70b (40GB)
‚îú‚îÄ‚îÄ devstral:24b (14GB)
‚îî‚îÄ‚îÄ –ë—É—Ñ–µ—Ä—ã –∏ –∫—ç—à

CPU (70 cores):
‚îú‚îÄ‚îÄ 50 cores –¥–ª—è Ollama
‚îú‚îÄ‚îÄ 8 cores –¥–ª—è Open WebUI
‚îú‚îÄ‚îÄ 4 cores –¥–ª—è —Å–∏—Å—Ç–µ–º—ã
‚îî‚îÄ‚îÄ 8 cores —Ä–µ–∑–µ—Ä–≤
```

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU
kubectl exec -it ollama-pod -n ai-infra -- nvidia-smi -l 1

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl top nodes
kubectl top pods -n ai-infra

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π
kubectl exec -it ollama-pod -n ai-infra -- ollama ps

# –õ–æ–≥–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
kubectl logs -f ollama-pod -n ai-infra
```

## üìä –ë–µ–Ω—á–º–∞—Ä–∫–∏ –æ–∂–∏–¥–∞–µ–º–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë—ã—Å—Ç—Ä—ã–µ –º–æ–¥–µ–ª–∏ (GPU)
- **llama3.1:8b**: ~200 tokens/sec
- **mistral:7b**: ~250 tokens/sec
- **qwen2.5-coder:14b**: ~150 tokens/sec

### –°—Ä–µ–¥–Ω–∏–µ –º–æ–¥–µ–ª–∏ (GPU+RAM)
- **devstral:24b**: ~80 tokens/sec
- **qwen2.5-coder:32b**: ~60 tokens/sec
- **deepseek-r1:32b**: ~50 tokens/sec

### –ë–æ–ª—å—à–∏–µ –º–æ–¥–µ–ª–∏ (RAM)
- **llama3.3:70b**: ~25 tokens/sec
- **deepseek-r1:70b**: ~20 tokens/sec
- **deepseek-v3:671b**: ~5 tokens/sec (–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ!)

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π**: –î–µ—Ä–∂–∏—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏ –≤ –ø–∞–º—è—Ç–∏
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –≤ Open WebUI
3. **Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ—Ö–æ–∂–∏–µ –∑–∞–ø—Ä–æ—Å—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤
5. **Swap**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ swap –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

**–í–∞—à —Å–µ—Ä–≤–µ—Ä —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞:**
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å 5-8 AI –º–æ–¥–µ–ª—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫—É —Å–ª–æ–∂–Ω—ã—Ö reasoning –∑–∞–¥–∞—á
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∏–Ω–≥ –∑–∞–¥–∞—á –Ω–∞ GPU
- –†–∞–±–æ—Ç—É —Å —Å–∞–º—ã–º–∏ –±–æ–ª—å—à–∏–º–∏ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—Ä–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ GPU –¥–ª—è –º–æ–¥–µ–ª–µ–π –¥–æ 14B
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π  
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ 