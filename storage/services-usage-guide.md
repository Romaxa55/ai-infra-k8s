# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º AI –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üéØ –û–±–∑–æ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 1. **Open WebUI** üåê - –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AI
- **URL**: http://ai.local
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å AI –º–æ–¥–µ–ª—è–º–∏
- **–£–ª—É—á—à–µ–Ω–∏—è**: –í–∫–ª—é—á–µ–Ω Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–µ—Å—Å–∏–π

### 2. **JupyterHub** üìä - ML/AI —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Jupyter notebooks –¥–ª—è ML —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### 3. **MinIO** üíæ - –û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Console URL**: http://minio.local  
- **API URL**: http://minio-api.local
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤, –º–æ–¥–µ–ª–µ–π, –¥–∞–Ω–Ω—ã—Ö

### 4. **Ollama** ü§ñ - AI –¥–≤–∏–∂–æ–∫
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–ø—É—Å–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI –º–æ–¥–µ–ª—è–º–∏
- **API**: http://ollama.ai-infra.svc.cluster.local:11434

### 5. **Redis** ‚ö° - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (NEW!)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤, —Å–µ—Å—Å–∏–∏, websocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- **–£–ª—É—á—à–µ–Ω–∏—è**: –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –ø–∞–º—è—Ç—å –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å

### Open WebUI - –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
# –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
http://ai.local

# –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å Redis:
‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ - –±—ã—Å—Ç—Ä—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚úÖ –ü–∞–º—è—Ç—å –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏  
‚úÖ Real-time websocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
```

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ Open WebUI:**
- –û–±—â–∞—Ç—å—Å—è —Å AI –º–æ–¥–µ–ª—è–º–∏
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –∏ —à–∞–±–ª–æ–Ω—ã
- –£–ø—Ä–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª—è–º–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### JupyterHub - ML/AI —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç–∞—Ç—É—Å JupyterHub
kubectl get pods -n ai-infra | grep jupyter

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –ø–æ–¥–∫–ª—é—á–∏–º—Å—è –∫ JupyterHub
kubectl port-forward -n ai-infra svc/jupyterhub 8000:80
# –ó–∞—Ç–µ–º: http://localhost:8000
```

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ JupyterHub:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å AI –º–æ–¥–µ–ª—è–º–∏
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ ML –ø–∞–π–ø–ª–∞–π–Ω—ã
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama API
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä notebook –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Ollama:**
```python
import requests
import json

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Ollama
ollama_url = "http://ollama.ai-infra.svc.cluster.local:11434"

def chat_with_model(model, prompt):
    response = requests.post(f"{ollama_url}/api/generate", 
                           json={"model": model, "prompt": prompt})
    return response.json()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = chat_with_model("llama3.1:8b", "–û–±—ä—è—Å–Ω–∏ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ")
print(result['response'])
```

### MinIO - –û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç–∞—Ç—É—Å MinIO
kubectl get svc -n ai-infra | grep minio

# –ü–æ–¥–∫–ª—é—á–∏–º—Å—è –∫ –∫–æ–Ω—Å–æ–ª–∏
kubectl port-forward -n ai-infra svc/minio-console 9001:9001
# –ó–∞—Ç–µ–º: http://localhost:9001
```

**–ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ MinIO:**
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: PDF, —Ç–µ–∫—Å—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è AI
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –æ—Ç—á–µ—Ç—ã
- **–ú–æ–¥–µ–ª–∏**: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ fine-tuned –º–æ–¥–µ–ª–∏
- **Datasets**: –ë–æ–ª—å—à–∏–µ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ML
- **–ë—ç–∫–∞–ø—ã**: –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Open WebUI:**
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ MinIO
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ MinIO
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞–Ω–∏–π

### Redis - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç–∞—Ç—É—Å Redis
kubectl get pods -n ai-infra | grep redis

# –ü–æ–¥–∫–ª—é—á–∏–º—Å—è –∫ Redis –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl exec -it open-webui-redis-xxx -n ai-infra -- redis-cli info
```

**–ß—Ç–æ —É–ª—É—á—à–∞–µ—Ç Redis:**
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤**: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–°–µ—Å—Å–∏–∏**: –ü–∞–º—è—Ç—å –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- **Websockets**: Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Ollama

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–±–æ—á–∏–π flow –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ AI –∞–≥–µ–Ω—Ç–æ–≤:

1. **JupyterHub**: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
2. **MinIO**: –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
3. **Open WebUI**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
4. **Redis**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:

```python
# –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ Jupyter
import boto3  # –¥–ª—è MinIO
import requests  # –¥–ª—è Ollama
import redis  # –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

# MinIO –∫–ª–∏–µ–Ω—Ç
minio_client = boto3.client(
    's3',
    endpoint_url='http://minio.ai-infra.svc.cluster.local:9000',
    aws_access_key_id='your-key',
    aws_secret_access_key='your-secret'
)

# Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
redis_client = redis.Redis(host='open-webui-redis', port=6379, db=0)

# Ollama –¥–ª—è AI
def get_ai_response(prompt, use_cache=True):
    if use_cache:
        cached = redis_client.get(f"prompt:{hash(prompt)}")
        if cached:
            return json.loads(cached)
    
    response = requests.post("http://ollama:11434/api/generate", 
                           json={"model": "devstral:24b", "prompt": prompt})
    result = response.json()
    
    if use_cache:
        redis_client.setex(f"prompt:{hash(prompt)}", 3600, json.dumps(result))
    
    return result
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
kubectl get pods -n ai-infra

# –†–µ—Å—É—Ä—Å—ã
kubectl top pods -n ai-infra

# –õ–æ–≥–∏ Open WebUI
kubectl logs -f open-webui-0 -n ai-infra

# –õ–æ–≥–∏ Ollama
kubectl logs -f ollama-xxx -n ai-infra

# –°—Ç–∞—Ç—É—Å Redis
kubectl exec -it open-webui-redis-xxx -n ai-infra -- redis-cli info memory

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MinIO
kubectl exec -it minio-xxx -n ai-infra -- mc admin info local
```

### –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- **Open WebUI**: http://ai.local - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **MinIO Console**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ port-forward
- **JupyterHub**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ port-forward

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤:
1. **–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: JupyterHub
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Open WebUI —Å Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
3. **–•—Ä–∞–Ω–µ–Ω–∏–µ**: MinIO –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –î–ª—è –∫–æ–¥–∏–Ω–≥–∞:
1. **–ë—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏**: Open WebUI + qwen2.5-coder:14b (GPU)
2. **–°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã**: JupyterHub + devstral:24b
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: MinIO –¥–ª—è –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –î–ª—è reasoning –∑–∞–¥–∞—á:
1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: Open WebUI + deepseek-r1:70b
2. **–ê–Ω–∞–ª–∏–∑**: JupyterHub –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Open WebUI —Å Redis

–ß—Ç–æ–±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏—è:

```bash
# –û–±–Ω–æ–≤–ª—è–µ–º Open WebUI —Å Redis
helm upgrade open-webui ./charts/open-webui \
  --namespace ai-infra \
  --values ./charts/open-webui-values.yaml \
  --wait --timeout 10m
```

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ:
‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
‚úÖ –ü–∞–º—è—Ç—å –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
‚úÖ –£–ª—É—á—à–µ–Ω–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 
‚úÖ Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é 